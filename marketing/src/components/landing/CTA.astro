---
import { SignInButton } from '../ui/SignInButton';

interface Props {
  lang: 'en' | 'de';
}

const { lang } = Astro.props;

const t = {
  en: {
    price: '$29',
    note: 'One time. No subscription.',
    guarantee: '7-day money back guarantee. No questions asked.',
    cta: 'Enter',
  },
  de: {
    price: '$29',
    note: 'Einmalig. Kein Abo.',
    guarantee: '7 Tage Geld-zur√ºck-Garantie. Keine Fragen.',
    cta: 'Eintreten',
  },
};

const labels = t[lang];
---

<section class="cta-wrapper">
  <div class="section cta-content">
    <div class="price">{labels.price}</div>
    <p class="section-title note">{labels.note}</p>
    <p class="body-text body-text--sm guarantee">{labels.guarantee}</p>
    <SignInButton
      client:load
      className="cta-button"
      label={labels.cta}
      labelSignedIn={lang === 'de' ? 'Zur App' : 'Go to App'}
    />
  </div>
</section>

<style>
  .cta-wrapper {
    border-top: 1px solid var(--color-border);
    border-bottom: 1px solid var(--color-border);
  }

  .cta-content {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: var(--spacing-md);
  }

  .note {
    margin-bottom: 0;
  }

  .guarantee {
    color: var(--color-teal);
  }
</style>
