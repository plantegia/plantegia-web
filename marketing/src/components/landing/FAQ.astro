---
interface Props {
  lang: 'en' | 'de';
}

const { lang } = Astro.props;

const t = {
  en: {
    sectionTitle: 'Questions',
    faqs: [
      {
        q: 'How many plants do I need for perpetual harvest?',
        a: 'Depends on your flowering time and harvest frequency. With 8-week strains and two tents, 4-8 plants in rotation keeps you harvesting every 2-4 weeks. Plantegia helps you visualize the math.',
      },
      {
        q: 'Can I plan a two tent setup with veg and flower?',
        a: 'Yes — this is exactly what Plantegia is built for. Map both tents, schedule when plants move from veg to flower, and see your whole rotation on a timeline.',
      },
      {
        q: 'How do I calculate when to start new seeds?',
        a: 'Count backwards from when you need a slot in your flower tent. The timeline view shows you gaps in your schedule so you know when to germinate.',
      },
      {
        q: 'Does it work with autoflowers?',
        a: 'Yes. Autoflowers have fixed lifecycles, which makes planning easier. Set your strain timing and Plantegia tracks the whole cycle from seed to harvest.',
      },
      {
        q: 'What about 8-week vs 10-week flowering strains?',
        a: 'Different flowering times change your whole rotation rhythm. Plantegia lets you set custom stage durations per plant so mixed gardens stay organized.',
      },
      {
        q: 'Is this a grow diary app?',
        a: 'No. Grow diaries track what happened. Plantegia plans what will happen. It is a visual scheduler for growers who think ahead.',
      },
    ],
  },
  de: {
    sectionTitle: 'Fragen',
    faqs: [
      {
        q: 'Wie viele Pflanzen brauche ich für Perpetual Harvest?',
        a: 'Hängt von deiner Blütezeit und Erntefrequenz ab. Mit 8-Wochen Strains und zwei Zelten halten 4-8 Pflanzen in Rotation dich alle 2-4 Wochen am Ernten.',
      },
      {
        q: 'Kann ich ein Zwei-Zelt-Setup mit Veg und Blüte planen?',
        a: 'Ja — genau dafür ist Plantegia gebaut. Mappe beide Zelte, plane wann Pflanzen von Veg zu Blüte wechseln, und sieh deine ganze Rotation auf einer Timeline.',
      },
      {
        q: 'Wie berechne ich wann ich neue Seeds starten soll?',
        a: 'Zähle rückwärts von wann du einen Platz im Blütezelt brauchst. Die Timeline zeigt dir Lücken in deinem Zeitplan.',
      },
      {
        q: 'Funktioniert es mit Autoflowers?',
        a: 'Ja. Autoflowers haben feste Lebenszyklen, was die Planung einfacher macht. Setze dein Strain-Timing und Plantegia trackt den ganzen Zyklus.',
      },
      {
        q: 'Was ist mit 8-Wochen vs 10-Wochen Blüte-Strains?',
        a: 'Verschiedene Blütezeiten ändern deinen ganzen Rotations-Rhythmus. Plantegia lässt dich eigene Phasendauern pro Pflanze setzen.',
      },
      {
        q: 'Ist das eine Grow-Diary App?',
        a: 'Nein. Grow Diaries tracken was passiert ist. Plantegia plant was passieren wird. Ein visueller Scheduler für Grower die vorausdenken.',
      },
    ],
  },
};

const labels = t[lang];

// Generate FAQ Schema
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": labels.faqs.map(faq => ({
    "@type": "Question",
    "name": faq.q,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": faq.a
    }
  }))
};
---

<section class="section faq">
  <h2 class="section-title">{labels.sectionTitle}</h2>
  <dl class="list-separated faq-list">
    {labels.faqs.map((faq) => (
      <div class="list-separated__item">
        <dt class="card-title card-title--teal">{faq.q}</dt>
        <dd class="body-text body-text--sm">{faq.a}</dd>
      </div>
    ))}
  </dl>
</section>

<script is:inline type="application/ld+json" set:html={JSON.stringify(faqSchema)} />

<style>
  .faq {
    padding-top: var(--spacing-3xl);
    padding-bottom: var(--spacing-3xl);
  }

  .faq-list {
    gap: var(--spacing-xl);
  }

  dt {
    text-transform: none;
    letter-spacing: 0;
    font-size: var(--font-size-base);
  }
</style>
