---
import ToolLayout from '../../../layouts/ToolLayout.astro';
import TentSpacingCalculator from '../../../components/tools/TentSpacingCalculator';
import { getTranslations, getNonDefaultLocales, type Locale } from '../../../i18n';

export function getStaticPaths() {
  return getNonDefaultLocales().map(lang => ({ params: { lang } }));
}

const { lang } = Astro.params as { lang: Locale };
const t = getTranslations(lang).pages.tentSpacing;
---

<ToolLayout
  title={t.title}
  description={t.description}
  keywords={t.keywords}
  lang={lang}
>
  <TentSpacingCalculator lang={lang} client:load />

  <section class="spacing-guide">
    <h2>{t.guide.title}</h2>
    <p>{t.guide.intro}</p>

    <h3>{t.guide.plantSizes.title}</h3>
    <ul>
      {t.guide.plantSizes.items.map(item => (
        <li>
          <strong>{item.size}:</strong> {item.description}
        </li>
      ))}
    </ul>

    <h3>{t.guide.commonTentSizes.title}</h3>
    <table>
      <thead>
        <tr>
          {t.guide.commonTentSizes.headers.map(header => (
            <th>{header}</th>
          ))}
        </tr>
      </thead>
      <tbody>
        {t.guide.commonTentSizes.rows.map(row => (
          <tr>
            {row.map(cell => (
              <td>{cell}</td>
            ))}
          </tr>
        ))}
      </tbody>
    </table>

    <h3>{t.guide.tips.title}</h3>
    <ul>
      {t.guide.tips.items.map(tip => (
        <li>{tip}</li>
      ))}
    </ul>
  </section>
</ToolLayout>

<style>
  .spacing-guide {
    max-width: 65ch;
    margin: var(--spacing-2xl) auto 0;
    padding-top: var(--spacing-xl);
    border-top: 1px solid var(--color-border);
  }

  .spacing-guide h2 {
    font-size: var(--font-size-xl);
    margin-bottom: var(--spacing-md);
  }

  .spacing-guide h3 {
    font-size: var(--font-size-lg);
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-sm);
  }

  .spacing-guide p,
  .spacing-guide li {
    color: var(--color-text-muted);
  }

  .spacing-guide strong {
    color: var(--color-text);
  }

  .spacing-guide table {
    width: 100%;
    border-collapse: collapse;
    margin: var(--spacing-md) 0;
  }

  .spacing-guide th,
  .spacing-guide td {
    padding: var(--spacing-sm);
    border: 1px solid var(--color-border);
    text-align: center;
  }

  .spacing-guide th {
    background: var(--color-background-dark);
  }

  .spacing-guide td:first-child {
    text-align: left;
    font-weight: bold;
  }
</style>
