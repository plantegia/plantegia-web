---
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';
import PostList from '../../components/blog/PostList.astro';

const posts = await getCollection('blog', ({ data }: { data: { lang: string } }) => data.lang === 'en');
---

<BaseLayout
  title="Blog | Plantegia"
  description="Tips, guides, and strategies for planning your indoor grow. Learn about perpetual harvest, multi-tent setups, and rotation planning."
  keywords={['grow planning blog', 'perpetual harvest guide', 'multi tent tips', 'indoor growing']}
  lang="en"
>
  <div class="blog-page">
    <header class="blog-header">
      <h1>Blog</h1>
      <p>Tips, guides, and strategies for planning your indoor grow.</p>
    </header>

    <PostList posts={posts} lang="en" />
  </div>
</BaseLayout>

<style>
  .blog-page {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--spacing-2xl) var(--spacing-md);
  }

  .blog-header {
    text-align: center;
    margin-bottom: var(--spacing-2xl);
  }

  .blog-header h1 {
    font-size: var(--font-size-2xl);
    margin-bottom: var(--spacing-md);
  }

  .blog-header p {
    color: var(--color-text-muted);
    font-size: var(--font-size-lg);
    max-width: 600px;
    margin: 0 auto;
  }
</style>
